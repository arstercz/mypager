<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Mypager by romuald</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="prefetch" href="./images/forkglow.png">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <script>
    $(function() {
      $('#forkmap').hover(function() {
        $('#forkme').attr('src', './images/forkglow.png');
      }, function() {
        $('#forkme').attr('src', './images/b.gif');
      })
    })
    </script>
  </head>
  <body>
      <div id="header">
      <img id="forkme" src="images/b.gif" usemap="#forkmap">
      <map id="forkmap" name="forkmap">
        <area shape="poly" alt="fork" title="Fork me on GitHub!" coords="0,0,75,0,149,75,149,149" href="https://github.com/romuald/mypager">
      </map>
        <nav>
          <li class="title">DOWNLOADS (0.6.0)</li>
          <li class="downloads"><a href="https://github.com/romuald/mypager/zipball/0.6.0">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/romuald/mypager/tarball/0.6.0">TAR</a></li>
          <li class="downloads" id="forkme-small"><a href="https://github.com/romuald/mypager">Fork</a></li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Mypager</h1>
          <p>Pager for mysql command line interface</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/romuald">romuald</a></span>
          <span class="credits right">Derived from <a href="http://twitter.com/#!/michigangraham">mattgraham</a>'s theme</span>
        </div>

<ul id="toc">
<li>
    <a href="#usage-mysql">Usage, Mysql</a></li>
<li>
    <a href="#usage-psql">Usage, PostgreSQL</a></li>
<li>
    <a href="#configuration">Configuration</a></li>
<li>
  <a href="#todo">TODO</a>
</li>
</ul>
<p>mypager is a tool meant to be used with the MySQL and PostgreSQL command line clients on unix platforms.</p>

<p>Its goal is to ease the reading of resultsets, doing 2 things:</p>

<ul>
<li>coloring data (numbers, dates, UUIDs and NULLs)</li>
<li>using the less command in case the output don't fit in the terminal</li>
</ul><p>Here is a sample output:</p>

<p><img src="http://chivil.com/mysqlpager/sample-colored.png" alt="example"></a></p>

<p>It currently requires perl 5.8, preferably with the <a href="http://search.cpan.org/dist/TermReadKey/ReadKey.pm">Term::ReadKey</a> module
(should work without, using the <code>stty</code> command)</p>

<hr>
<h2 id="installation">Installation</h2>
<p>You can either simply copy the script to the location you wish, or use <code>make install</code></p>
<ul>
<li>when run as <strong>user</strong>, the script will be installed in <code>~/bin/</code></li>
<li>when run as <strong>root</strong>, the script will be installed in <code>/usr/local/bin/</code></li>
</ul>
<hr>
<h2 id="usage-mysql">Usage, MySQL</h2>

<p>To use it you'll just have to tell your mysql client to use it as a pager:</p>
<pre><code>mysql&gt; pager /path/to/mypager.pl
</code></pre>

<p>or edit your <code>~/.my.cnf</code> file:</p>

<pre><code>[mysql]
      pager = /path/to/mypager.pl</code></pre>

<hr>
<h2 id="usage-psql">Usage, PostgreSQL</h2>

<p>The script was originaly designed to work with MySQL, but an option exists in PostgreSQL client that format output as mypager expects it.</p>

<p>Unlike the mysql client, there is no specific option for the PostgreSQL pager, you'll have to use the <code>PAGER</code> environment variable, for example:</p>

<pre><code>export PAGER=/path/to/mypager.pl
psql --stuff
</code></pre>

<p>Or in your <code>.bashrc</code> / <code>.zshrc</code>:</p>

<pre><code>alias psql="PAGER=/path/to/mypager.pl psql"
</code></pre>

<p>Then, you'll have to edit your <code>.psqlrc</code> file to set 2 default options:</p>

<pre><code>-- Headers and surrounding pipes for columns
\pset border 2

-- mypager will decide when to switch to less, but will always add color
\pset pager always

-- You may want null to be NULL, at your discretion
-- \pset null NULL
</code></pre>

<hr>
<h2 id="configuration">Configuration</h2>

<p>The configuration file is located in <code>~/.mypager.conf</code></p>

<p>A default configuration is present at the end of the script itself, should you wish to modify it instead.</p>

<p>You can use <code>mypager.pl --installconf</code> to write the default configuration to <code>~/.mypager.conf</code></p>

<h3>Styles</h3>

<p>Current available styles are <code>style-int</code>, <code>style-null</code>, <code>style-date</code>, <code>style-header</code>, <code>style-row</code></p>

<p><em>header</em> and <em>row</em> styles are used for the <code>\G</code> option of the mysql client (vertically formated output)</p>

<p>You can use any recognized value of the <a href="http://search.cpan.org/dist/Term-ANSIColor/ANSIColor.pm#Function_Interface">Term::ANSIColor</a> module, and combine them as you please.</p>

<p>Some valid examples: <code>red</code>, <code>bold blue</code>, or <code>underline white on_black</code></p>

<h2>Other options</h2>

<dl>
<dt>long-lines-to-less</dt>
<dd>
  0/<strong>1</strong>, with this option set to 1, the pager will switch to less whenever it encounters a line longer than screen width (even if the screen has enough height available)
</dd>
<dt>less-options</dt>
<dd>
    <strong>-S</strong>, these are the options sent to less (check out the <em>OPTIONS</em> section of the man page for a complete list). The default is to chop long lines, you can add your own choice here, like <em>-I</em> to make searches case insensitive.
</dd>

<dt>less-options-overrides-env</dt>
<dd>
    <strong>0</strong>/1, the default behavior is to add <em>less-options</em> before your <em>$LESS</em> environment variable so that the options set by your environment take precedence over the script options. Set to <em>1</em> to reverse the behavior.
</dd>


<dt>use-less</dt>
<dd>
    <strong>auto</strong>/always/never, will determine whenever or not to switch to less, should you wish to alway use it or just colorize the output
</dd>

<dt>fix-utf8</dt>
<dd>
    <strong>0</strong>/1, try to fix broken UTF-8 output of older (&lt; 5.5 ?) MySQL clients. This option fixes unaligned columns when 2 bytes characters are present in a cell.
  </dd>
</dl>
<dt>uuid-color</dt>
<dd>
    0/<strong>1</strong>, colorize UUIDs. The UUIDs are colorized using a MD5 hash, to more easily identify 2 identical UUIDs in a list. This is especially useful when listing UUID1 created in short amount of time.
  </dd>
</dl>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
<!-- vim: set et ts=2 sw=2: -->
